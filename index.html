<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>ZeroX - Home</title>
  <link rel="stylesheet" href="style.css"/>
</head>
<body>

<div id="sidebarNav" class="sidebar">
  <div class="menu-toggle" onclick="toggleSidebar()">☰</div>
  <div class="menu-links" id="menuLinks">
    <a href="/profile" data-t="profile">👤 Profile</a>
    <a href="/friends" data-t="friends">🤝 Friends</a>
    <a href="/login" data-t="login">🔐 Login</a>
  
<div style="margin-top:10px;">
  <label style="color:white;"><span data-t="language">🌐 Language:</span></label>
  <select id="languageSelect" onchange="setLanguage(this.value)">
    <option value="en">English</option>
    <option value="es">Español</option>
    <option value="fr">Français</option>
    <option value="de">Deutsch</option>
    <option value="ar">العربية</option>
  </select>
</div>
<script>
  function setLanguage(lang) {
    localStorage.setItem('lang', lang);
    alert("Language set to " + lang + ". (Translation system coming soon!)");
  }
  document.addEventListener("DOMContentLoaded", () => {
    const lang = localStorage.getItem("lang");
    if (lang) {
      document.getElementById("languageSelect").value = lang;
    }
  });
</script>
</div>
</div>
<script>
  function toggleSidebar() {
    document.getElementById("menuLinks").classList.toggle("show");
  }
</script>


<div id="topNav" style="position:fixed;top:0;right:0;background:#333;padding:10px 15px;z-index:999;">
  <a href="/profile" style="color:white;margin-right:10px;" data-t="profile">👤 Profile</a>
  <a href="/friends" style="color:white;margin-right:10px;" data-t="friends">🤝 Friends</a>
  <a href="/login" style="color:white;" data-t="login">🔐 Login</a>
</div>

  <div class="container">
    <h1>ZeroX</h1>
    <p>Chat anonymously with strangers around the world.</p>

    <form id="preferenceForm">
      <label>Gender:</label>
      <select id="gender">
        <option value="any">Any</option>
        <option value="male">Male</option>
        <option value="female">Female</option>
      </select><br><br>

      <label><input type="checkbox" id="friendOnly"> Friend-Only Chat</label><br><br>
<label>Interest:</label>
      <input type="text" id="interest" placeholder="e.g., gaming, music"><br><br>

      <div class="button-group">
        <button type="submit" data-mode="text">Start Text Chat</button>
        <button type="submit" data-mode="video">Start Video Chat</button>
      </div>
    </form>

    <div class="theme-toggle">
      <label>
        <input type="checkbox" id="themeSwitcher" />
        <span>🌞/🌙</span>
      </label>
    </div>
  </div>

  <script>
    const switcher = document.getElementById("themeSwitcher");
    const body = document.body;
    const theme = localStorage.getItem("theme");

    if (theme === "light") {
      body.classList.remove("dark");
    } else {
      body.classList.add("dark");
      switcher.checked = true;
    }

    switcher.addEventListener("change", () => {
      if (switcher.checked) {
        body.classList.add("dark");
        localStorage.setItem("theme", "dark");
      } else {
        body.classList.remove("dark");
        localStorage.setItem("theme", "light");
      }
    });

    const form = document.getElementById("preferenceForm");
    form.addEventListener("submit", (e) => {
      e.preventDefault();
      const gender = document.getElementById("gender").value;
      const interest = document.getElementById("interest").value;
      const mode = e.submitter.getAttribute("data-mode");
      const friendOnly = document.getElementById("friendOnly").checked;
      localStorage.setItem("gender", gender);
      localStorage.setItem("interest", interest);
      window.location.href = `chat.html?mode=${mode}&friendOnly=${friendOnly}`;
    });
  </script>

<script>
  const translations = {
    en: {
      profile: "Profile",
      friends: "Friends",
      login: "Login",
      language: "Language",
      addFriend: "<span data-t="addFriend">Add Friend by Username:</span>",
      pendingRequests: "<span data-t="pendingRequests">Pending Requests</span>",
      acceptedFriends: "<span data-t="acceptedFriends">Accepted Friends</span>"
    },
    es: {
      profile: "Perfil",
      friends: "Amigos",
      login: "Iniciar sesión",
      language: "Idioma",
      addFriend: "Agregar amigo por nombre de usuario:",
      pendingRequests: "Solicitudes pendientes",
      acceptedFriends: "Amigos aceptados"
    },
    fr: {
      profile: "Profil",
      friends: "Amis",
      login: "Connexion",
      language: "Langue",
      addFriend: "Ajouter un ami par nom d'utilisateur :",
      pendingRequests: "Demandes en attente",
      acceptedFriends: "Amis acceptés"
    },
    de: {
      profile: "Profil",
      friends: "Freunde",
      login: "Anmelden",
      language: "Sprache",
      addFriend: "Freund nach Benutzernamen hinzufügen:",
      pendingRequests: "Ausstehende Anfragen",
      acceptedFriends: "Akzeptierte Freunde"
    },
    ar: {
      profile: "الملف الشخصي",
      friends: "الأصدقاء",
      login: "تسجيل الدخول",
      language: "اللغة",
      addFriend: "أضف صديقًا باستخدام اسم المستخدم:",
      pendingRequests: "الطلبات المعلقة",
      acceptedFriends: "الأصدقاء المقبولون"
    }
  };

  function applyTranslations() {
    const lang = localStorage.getItem("lang") || "en";
    const t = translations[lang];

    document.querySelectorAll("[data-t]").forEach(el => {
      const key = el.getAttribute("data-t");
      if (t[key]) el.textContent = t[key];
    });
  }

  document.addEventListener("DOMContentLoaded", applyTranslations);
</script>

</body>
</html>
